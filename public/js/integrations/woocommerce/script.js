!function(e){var t={};function o(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=t,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=655)}({655:function(e,t,o){e.exports=o(656)},656:function(e,t){!function(){function e(){var e,i,n,r=document.querySelector("#lootly-widget");if(r){var a=(r.getAttribute("data-provider")||"https://lootly.io").replace(new RegExp("/$"),"")+"/widget";r.getAttribute("data-api-key");a+="?"+[{key:"_cid",value:r.getAttribute("data-customer-id")||""},{key:"_cs",value:r.getAttribute("data-customer-signature")||""},{key:"_shd",value:r.getAttribute("data-shop-domain")||""},{key:"_shs",value:r.getAttribute("data-shop-id")||""}].filter(function(e){return""!==e.value.trim()}).map(function(e){return encodeURIComponent(e.key)+"="+encodeURIComponent(e.value)}).join("&");var d=document.createElement("iframe");d.setAttribute("src",a),d.setAttribute("id","lootly_iframe"),r.classList.add("widget-closed"),r.appendChild(d),e=window,i="message",n=function(e){var i=e.data,n={};try{var a=JSON.parse(e.data);i=a.action,n=a.data}catch(e){}switch(i){case"widget-init":break;case"widget-ready":var d="left"==n.position?"widget-left":"widget-right";r.classList.add(d),r.setAttribute("display-on",n.display_on);var s=document.createElement("style");s.innerHTML=n.styles||"",r.appendChild(s),r.classList.add("widget-ready"),function(){var e=document.querySelector("#lootly-widget #lootly_iframe");if(e){var i=function(t){e.contentWindow.postMessage(t,"*")},n=!1,r=o("lootlyref");if(r?(n=!0,i(JSON.stringify({action:"receive-reward",data:{referral_slug:r}}))):(r=o("loref"))&&(n=!0,i(JSON.stringify({action:"receive-reward",data:{referral_slug:r}}))),!n){var a=o("lourl");if(a)switch(a){case"earn-points":i(JSON.stringify({action:"earn-points"}));break;case"get-coupon":i(JSON.stringify({action:"get-coupon"}))}}window.openLootlyWidget=function(e){e.preventDefault(),i(JSON.stringify({action:"toggle-widget"}))}}window.addEventListener("resize",t),t()}();break;case"account-login":window.location.href="undefined"!=typeof Lootly&&Lootly.config&&Lootly.config.loginUrl?Lootly.config.loginUrl:"/account/login";break;case"account-register":window.location.href="undefined"!=typeof Lootly&&Lootly.config&&Lootly.config.registerUrl?Lootly.config.registerUrl:"/account/register";break;case"close-widget":document.body.classList.remove("lootly-widget-open"),r.classList.add("widget-closed");break;case"open-widget":document.body.classList.add("lootly-widget-open"),r.classList.remove("widget-closed");break;case"add-current-page":r.setAttribute("data-current-page",n);break;case"toggle-rewards-tab":r.classList.toggle("widget-has-rewards");break;case"reward-redeemed-tab":r.classList.add("widget-reward-redeemed")}},e.addEventListener?e.addEventListener(i,n,!1):e.attachEvent&&e.attachEvent("on"+i,n)}}function t(){document.querySelector("#lootly-widget iframe").contentWindow.postMessage(JSON.stringify({action:"viewport-width",data:{width:window.innerWidth}}),"*")}function o(e){for(var t=window.location.search.substring(1).split("&"),o=0;o<t.length;o++){var i=t[o].split("=");if(i[0]==e)return i[1]}return!1}console.log("Lootly App Initialized!"),e(),window.lootlyWidgetInit=e}()}});